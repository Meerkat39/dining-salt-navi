# 塩分制限対応 飲食店検索アプリにおけるメニューデータ収集方針

## 現状の課題

1. **公開状況の不統一**
   - 栄養成分が公式サイトで公開されている店と、されていない店が存在する。
2. **データ形式の多様性**
   - Web ページに表形式で掲載される場合もあれば、商品詳細ページを 1 つずつ開かなければならない場合もある。
   - PDF 形式で公開されている場合も多いが、フォーマットは各社独自であり、自動抽出が難しい。
3. **データ更新の追従**
   - 季節限定・期間限定メニューが存在し、定期的に内容が変化する。
   - 栄養成分表自体が改訂されるケースもあり、最新情報を維持する仕組みが必要。
4. **価格情報との照合の必要性**
   - 栄養成分表には値段が載っていない場合が多く、価格も取得したい場合は別途値段表との照合が必要。
   - メニュー名の揺れや限定商品など、栄養情報と価格情報の紐付け運用に工夫が求められる。

## 解決方針

- **データ取得方法の標準化**
  - HTML スクレイピング、PDF 解析（Tabula, pdfplumber 等）、OCR を組み合わせて可能な限り自動化する。
  - 非公開データについては、公式問い合わせやユーザー投稿で補完する。
- **共通フォーマットへの変換**
  - ブランド名、商品名、塩分量、カロリー、更新日などを統一形式（JSON/CSV/DB）で管理し、アプリ側で利用可能にする。
- **更新検知と自動化**
  - サイトの更新日や PDF のファイル名・ハッシュ値を監視し、差分更新を行う。
  - 限定メニューには販売終了日を付与し、期限が過ぎたら非表示にする。

## 実施ステップ

1. **主要チェーンから開始**
   - 吉野家、すき家、マクドナルド、ガストなど、ユーザー利用率が高いチェーンからデータ収集を開始する。
2. **データ収集ワークフローの確立**
   - 自動収集（スクレイピング／PDF 解析）＋人力補正を前提にした運用を構築する。
   - Notion や Google スプレッドシートで補正・検証しやすい形にする。
3. **更新サイクルの導入**
   - 月 1 回の定期クローリング＋更新検知を行い、常に最新のデータを維持する。
4. **ユーザー参加型での補完**
   - 未公開店舗や限定メニューについては、ユーザーから情報提供を受ける仕組みを検討する。

## 長期的な展望

- 最終的には、ユーザーが「健康状態に合わせて飲食店を検索・比較」できる包括的なプラットフォームへ拡張する。
