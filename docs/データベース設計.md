# データベース設計

このドキュメントは「外食塩分ナビ」アプリのデータベース設計（エンティティ・テーブル定義・リレーション）をまとめたものです。

## 1. エンティティ一覧

- 店舗（Store）
- メニュー（Menu）

## 2. テーブル定義

### 2.1 店舗（stores）

| カラム名 | 型           | 主キー | NULL 許容 | 備考          |
| -------- | ------------ | ------ | --------- | ------------- |
| id       | UUID         | ○      | ×         | 店舗 ID（PK） |
| name     | VARCHAR(100) |        | ×         | 店舗名        |
| lat      | DOUBLE       |        | ×         | 緯度          |
| lng      | DOUBLE       |        | ×         | 経度          |

### 2.2 メニュー（menus）

| カラム名   | 型           | 主キー | NULL 許容 | 備考                 |
| ---------- | ------------ | ------ | --------- | -------------------- |
| id         | UUID         | ○      | ×         | メニュー ID（PK）    |
| store_id   | UUID         | FK     | ×         | 店舗 ID（stores.id） |
| name       | VARCHAR(100) |        | ×         | メニュー名           |
| salt       | DOUBLE       |        | ×         | 塩分量（g）          |
| price      | INT          |        | ×         | 価格（円）           |
| created_at | TIMESTAMP    |        | ×         | 登録日時             |
| updated_at | TIMESTAMP    |        | ×         | 更新日時             |

## 3. リレーション

- 店舗（stores）1 : N メニュー（menus）
  - stores.id = menus.store_id

## 4. ER 図（簡易）

```
┌────────────┐        1       ┌────────────┐
│  stores    │───────────────▶│   menus    │
├────────────┤                ├────────────┤
│ id (PK)    │                │ id (PK)    │
│ name       │                │ store_id   │
│ ...        │                │ name       │
└────────────┘        N       │ ...        │
                              └────────────┘
```

## 5. TypeScript 型定義との対応

```ts
// 店舗情報
export type Store = {
  id: string;
  name: string;
  lat: number;
  lng: number;
};

// メニュー情報
export type Menu = {
  id: string;
  store_id: string;
  name: string;
  salt: number;
  price: number;
  created_at: string; // ISO文字列
  updated_at: string; // ISO文字列
};
```

- Store 型 ⇔ stores テーブル
- Menu 型 ⇔ menus テーブル

---

（必要に応じて自由に追記・編集してください）
