# TODO 管理

- このファイルは、開発中のタスクややることリストを管理するためのものです。
- 完了した項目にはチェックボックス（- [x]）を付けて管理してください。

## 現在の TODO

- [x] Google Cloud 準備

  - [x] プロジェクト作成
  - [x] Maps JavaScript API 有効化
  - [x] API キー発行・制限（リファラ/IP 制限）

- [x] Next.js で Google Map 表示

  - [x] API キーを.env 管理
  - [x] @react-google-maps/api 等で地図を表示

- [x] 仮データで店舗マーカー表示

  - [x] 仮データ（chains, stores, menus 型）作成
  - [x] 仮データ配置（適切なディレクトリ・ファイル分割）
  - [x] 仮の店舗リスト（店名・住所・緯度経度）でマーカー表示
  - [x] マーカークリックで InfoWindow（店名・住所・仮メニュー）表示

- [x] 検索・絞り込み機能

  - [x] 検索機能（店名・キーワードで絞り込み）
  - [x] 現在地から検索（現在地取得）
  - [x] 塩分量フィルタ（指定値以下のメニュー・店舗のみ表示）

- [x] リファクタリング

- [x] 検索結果リストと地図の連携

  - [x] リスト項目クリックで地図ピンにフォーカス（InfoWindow 表示・ズーム）
  - [x] 地図ピン選択でリスト項目をハイライト

- [x] 本番データ・API 連携

  - [x] Google Places API で実店舗情報を取得
  - [x] 自前 DB 設計（chains: id, name／stores: id, chain_id, name, lat, lng／menus: id, store_id, name, salt, price, created_at, updated_at）
  - [x] DB と店舗情報の紐付け、API レスポンス設計

- [x] Google Map 上での連携表示

  - [x] 店舗ごとに該当メニューを表示
  - [x] マーカー・InfoWindow の最終調整

- [x] エリア検索・地図中心表示機能の実装

  - [x] エリア名から座標取得（ジオコーディング API 連携）
  - [x] 検索時に地図中心座標を更新

- [ ] 検索欄のセキュリティ対策

  - [ ] 入力値のサニタイズ・バリデーション
  - [ ] バックエンド/API 連携時のエスケープ・検証
  - [ ] SQL インジェクション・XSS 等の対策

- [ ] API リクエスト連打・料金対策

  - [ ] 検索ボタンの連打防止（連続クリック時の一時無効化）
  - [ ] レートリミット（一定時間内の回数制限）
  - [ ] サーバー側で IP ごとのリクエスト制限

- [ ] テスト前に UI/UX の改善

  - [ ] 店舗リスト・地図・検索フォームの操作性・視認性向上
  - [ ] Google Map 公式コンポーネント・機能の調査（InfoWindow, Marker, Directions, Geocoder など）
  - [ ] レスポンシブ対応・アクセシビリティ考慮
  - [ ] フィードバック・エラー表示の最適化

- [ ] テスト・運用フロー整理
  - [ ] 主要エリアでの検索・表示テスト
  - [ ] データ更新・新メニュー追加時の運用フロー整理
